<!DOCTYPE HTML>
<html>
    <body>
        <input type="text"><br>
        <textarea></textarea>
        <script type="text/javascript">
        var comma, input, txtarea

        comma   = ','
        input   = document.querySelector('input')
        txtarea = document.querySelector('textarea')

        function keyup(evt) {
            var value, result
            result = ''
            value  = ('' + input.value).split('')
            while (value.length > 3) {
                result       = comma + value.slice(-3).join('') + result
                value.length = value.length - 3
            }
            result        = value.join('') + result
            txtarea.value = result
        }

        document.addEventListener('keyup', keyup)
        </script>
    </body>
</html>
