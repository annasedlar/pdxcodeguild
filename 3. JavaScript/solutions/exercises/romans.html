<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Roman Numerals Converter</title>
    </head>
    <body>
        <h1>Roman Numerals Converter</h1>
        <p>Convert from a <a href="http://literacy.kent.edu/Minigrants/Cinci/romanchart.htm">Roman</a> to an <a href="http://www.britannica.com/topic/Hindu-Arabic-numerals">Arabic</a> Numeral.
        <form>
            Roman: <input type="text" name="roman" value="">
            <button type="submit">Go</button>
        </form>
        <p id="result"></p>
        <script type="text/javascript">

        var romans = {
            I :    1,
            V :    5,
            X :   10,
            L :   50,
            C :  100,
            D :  500,
            M : 1000
        }

        var result = document.getElementById('result');
        var input  = document.querySelector('input');

        function getDecimalFromRomanNumeral(romanNumeral) {
            var decimal;
            decimal = 0;
            for (var i = 0; i < romanNumeral.length; ++i) {
                if (romanNumeral[i + 1] && romans[romanNumeral[i]] < romans[romanNumeral[i + 1]]) {
                    decimal += romans[romanNumeral[i + 1]] - romans[romanNumeral[i]];
                    ++i;
                }
                else {
                    decimal += romans[romanNumeral[i]];
                }
            }
            return decimal;
        }

        document.querySelector('form').addEventListener('submit', function (e) {
            var roman, decimal;
            e.preventDefault(); // prevent form from submitting
            roman   = input.value = input.value.toUpperCase();
            decimal = getDecimalFromRomanNumeral(roman);
            result.innerHTML = `${roman} = ${decimal}`;
        });

        </script>
    </body>
</html>
